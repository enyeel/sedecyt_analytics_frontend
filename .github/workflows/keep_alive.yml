name: Supabase Keep-Alive

on:
    schedule:
        # Se ejecuta a las 00:00 UTC cada 3 d√≠as
        - cron: "0 0 */3 * *"
    workflow_dispatch: # Permite ejecutarlo manualmente para probar

jobs:
  ping_supabase:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Supabase API
        run: |
                curl -X GET "${{ secrets.NEXT_PUBLIC_SUPABASE_URL }}/rest/v1/auth_users_view?select=count" \
                -H "apikey: ${{ secrets.NEXT_PUBLIC_SUPABASE_ANON_KEY }}" \
                -H "Authorization: Bearer ${{ secrets.NEXT_PUBLIC_SUPABASE_ANON_KEY }}"
